/* ===================================================================================
// ESTILOS BASE Y VARIABLES CSS
// =================================================================================== */
:root {
    --bg-color: #f0f2f5; --card-bg: #ffffff; --text-color: #1f2937;
    --text-secondary: #6b7280; --title-color: #111827; --accent-color: #3b82f6;
    --accent-hover: #2563eb; --border-color: #e5e7eb; --input-bg: #ffffff;
    --stat-bg: #f9fafb; --rarity-intrinsic-bg: #f3f4f6; --rarity-common-bg: #f9fafb;
    --rarity-rare-bg: #eff6ff; --rarity-epic-bg: #f5f3ff; --rarity-legendary-bg: #fffbeb;
}
.theme-dark {
    --bg-color: #111827; --card-bg: #1f2937; --text-color: #d1d5db;
    --text-secondary: #9ca3af; --title-color: #f9fafb; --border-color: #374151;
    --input-bg: #374151; --stat-bg: #374151; --rarity-intrinsic-bg: #374151;
    --rarity-common-bg: #374151; --rarity-rare-bg: #1e3a8a;
    --rarity-epic-bg: #4c1d95; --rarity-legendary-bg: #78350f;
}
.theme-forest {
    --bg-color: #f0fff4; --card-bg: #ffffff; --text-color: #2f3e46;
    --text-secondary: #52796f; --title-color: #2f3e46; --accent-color: #4c956c;
    --accent-hover: #3a7d56; --border-color: #cad2c5; --input-bg: #ffffff;
    --stat-bg: #e9f5e9; --rarity-rare-bg: #d8f3dc; --rarity-epic-bg: #b7e4c7;
    --rarity-legendary-bg: #95d5b2;
}
.theme-ocean {
    --bg-color: #f0f9ff; --card-bg: #ffffff; --text-color: #0c4a6e;
    --text-secondary: #38bdf8; --title-color: #075985; --accent-color: #0ea5e9;
    --accent-hover: #0284c7; --border-color: #bae6fd; --input-bg: #ffffff;
    --stat-bg: #e0f2fe; --rarity-rare-bg: #cffafe; --rarity-epic-bg: #a5f3fc;
    --rarity-legendary-bg: #67e8f9;
}
.theme-fire {
    --bg-color: #fffbeb; --card-bg: #ffffff; --text-color: #451a03;
    --text-secondary: #9a3412; --title-color: #78350f; --accent-color: #f97316;
    --accent-hover: #ea580c; --border-color: #fed7aa; --input-bg: #ffffff;
    --stat-bg: #fef3c7; --rarity-rare-bg: #fee2e2; --rarity-epic-bg: #ffedd5;
    --rarity-legendary-bg: #fde68a;
}
.theme-dusk {
    --bg-color: #1e293b; --card-bg: #334155; --text-color: #cbd5e1;
    --text-secondary: #94a3b8; --title-color: #f1f5f9; --accent-color: #f97316;
    --accent-hover: #fb923c; --border-color: #475569; --input-bg: #475569;
    --stat-bg: #475569; --rarity-rare-bg: #1e3a8a;
    --rarity-epic-bg: #4c1d95; --rarity-legendary-bg: #7c2d12;
}

html { scroll-behavior: smooth; }
body {
    background-color: var(--bg-color); color: var(--text-color);
    font-family: 'Inter', sans-serif; transition: background-color 0.3s, color 0.3s;
}

/* ===================================================================================
// ESTILOS DE COMPONENTES
// =================================================================================== */
.card {
    background-color: var(--card-bg); border-radius: 0.75rem;
    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.05), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
    border: 1px solid var(--border-color); transition: background-color 0.3s, border-color 0.3s;
    resize: both; overflow: auto; min-width: 200px; min-height: 100px;
}
.card-title {
    color: var(--title-color); font-weight: 600; font-size: 1.125rem;
    border-bottom: 1px solid var(--border-color); padding-bottom: 0.75rem; margin-bottom: 1rem;
}
.input-field {
    width: 100%; padding: 0.5rem 0.75rem; border-radius: 0.5rem;
    border: 1px solid var(--border-color); background-color: var(--input-bg);
    color: var(--text-color); transition: border-color 0.2s, box-shadow 0.2s, background-color 0.3s;
}
.input-field:focus {
    outline: none; border-color: var(--accent-color);
    box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);
}
.btn {
    padding: 0.5rem 1rem; border-radius: 0.5rem; font-weight: 600; text-align: center;
    cursor: pointer; transition: all 0.2s ease-in-out; display: inline-flex;
    align-items: center; justify-content: center; border: none;
}
.btn:disabled { opacity: 0.5; cursor: not-allowed; }
.btn-primary { background-color: var(--accent-color); color: white; }
.btn-primary:hover:not(:disabled) { background-color: var(--accent-hover); }
.btn-secondary { background-color: #4b5563; color: white; }
.btn-secondary:hover:not(:disabled) { background-color: #374151; }
.btn-danger { background-color: #ef4444; color: white; }
.btn-danger:hover:not(:disabled) { background-color: #dc2626; }

/* ===================================================================================
// ESTILOS DE MODALES
// =================================================================================== */
.modal-overlay {
    position: fixed; top: 0; left: 0; right: 0; bottom: 0;
    background-color: rgba(0, 0, 0, 0.6); display: flex;
    align-items: center; justify-content: center; z-index: 50;
    opacity: 0; visibility: hidden; transition: opacity 0.3s, visibility 0.3s;
}
.modal-overlay.active { opacity: 1; visibility: visible; }
.modal-content {
    background: var(--card-bg); color: var(--text-color); padding: 1.5rem; border-radius: 0.75rem;
    width: 90%; max-width: 600px; transform: scale(0.95);
    transition: transform 0.3s, background-color 0.3s; display: flex; flex-direction: column;
}
.modal-overlay.active .modal-content { transform: scale(1); }
.modal-scrollable-content { max-height: 70vh; overflow-y: auto; padding-right: 1rem; margin-right: -1rem; }

/* ===================================================================================
// ESTILOS DE COMPONENTES ESPECÍFICOS
// =================================================================================== */
.tab-button.active { border-color: var(--accent-color); color: var(--accent-color); font-weight: 600; }

/* Switch Toggle */
.switch { position: relative; display: inline-block; width: 40px; height: 22px; }
.switch input { opacity: 0; width: 0; height: 0; }
.slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #ccc; transition: .4s; border-radius: 22px; }
.slider:before { position: absolute; content: ""; height: 16px; width: 16px; left: 3px; bottom: 3px; background-color: white; transition: .4s; border-radius: 50%; }
input:checked + .slider { background-color: var(--accent-color); }
input:checked + .slider:before { transform: translateX(18px); }

/* ===================================================================================
// ESTILOS DE RAREZA DE OBJETOS
// =================================================================================== */
.item-card { border-left-width: 5px; transition: all 0.3s ease; }
.item-card[data-rarity="Intrínseco"] { border-color: #6b7280; background-color: var(--rarity-intrinsic-bg); }
.item-card[data-rarity="Común"] { border-color: #9ca3af; background-color: var(--rarity-common-bg); }
.item-card[data-rarity="Raro"] { border-color: #3b82f6; background-color: var(--rarity-rare-bg); }
.item-card[data-rarity="Épico"] { border-color: #8b5cf6; background-color: var(--rarity-epic-bg); }
.item-card[data-rarity="Legendario"] { border-color: #f59e0b; background-color: var(--rarity-legendary-bg); }

/* Animación para objetos "Míticos / Únicos" */
@keyframes mitico-anim { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
.item-card[data-rarity="Mítico / Único"] {
    background: linear-gradient(60deg, #b91c1c, #f59e0b, #ca8a04, #b91c1c);
    background-size: 300% 300%; animation: mitico-anim 5s ease infinite; border-left-color: transparent;
}
.item-card[data-rarity="Mítico / Único"] .rarity-text, .item-card[data-rarity="Mítico / Único"] p, 
.item-card[data-rarity="Mítico / Único"] span, .item-card[data-rarity="Mítico / Único"] .font-bold,
.item-card[data-rarity="Mítico / Único"] .font-semibold, .item-card[data-rarity="Mítico / Único"] .text-gray-500 { 
    color: white; text-shadow: 0 1px 2px rgba(0,0,0,0.4); 
}
.item-card[data-rarity="Mítico / Único"] .bg-gray-200, .item-card[data-rarity="Mítico / Único"] .bg-gray-100 { 
    background-color: rgba(0,0,0,0.2); border: 1px solid rgba(255,255,255,0.2); 
}

/* Animación para objetos "Genesis" */
@keyframes genesis-anim { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
.item-card[data-rarity="Genesis"] {
    background: linear-gradient(60deg, #1e3a8a, #059669, #f59e0b, #9333ea, #1e3a8a);
    background-size: 300% 300%; animation: genesis-anim 6s ease infinite; border-left-color: transparent;
}
.item-card[data-rarity="Genesis"] .rarity-text, .item-card[data-rarity="Genesis"] p, 
.item-card[data-rarity="Genesis"] span, .item-card[data-rarity="Genesis"] .font-bold,
.item-card[data-rarity="Genesis"] .font-semibold, .item-card[data-rarity="Genesis"] .text-gray-500 { 
    color: white; text-shadow: 0 1px 2px rgba(0,0,0,0.4); 
}
.item-card[data-rarity="Genesis"] .bg-gray-200, .item-card[data-rarity="Genesis"] .bg-gray-100 { 
    background-color: rgba(0,0,0,0.2); border: 1px solid rgba(255,255,255,0.2); 
}

/* Texto de rareza */
.rarity-text { font-weight: 600; }
.item-card[data-rarity="Intrínseco"] .rarity-text { color: #4b5563; }
.item-card[data-rarity="Común"] .rarity-text { color: #6b7280; }
.item-card[data-rarity="Raro"] .rarity-text { color: #2563eb; }
.item-card[data-rarity="Épico"] .rarity-text { color: #7c3aed; }
.item-card[data-rarity="Legendario"] .rarity-text { color: #d97706; }
.item-card[data-rarity="Mítico / Único"] .rarity-text { color: #facc15; }
.item-card[data-rarity="Genesis"] .rarity-text { color: #a78bfa; }

/* Corrección de color de texto para raridades en tema oscuro */
.theme-dark .item-card[data-rarity="Raro"] .rarity-text,
.theme-dark .item-card[data-rarity="Épico"] .rarity-text,
.theme-dark .item-card[data-rarity="Legendario"] .rarity-text { color: #f9fafb; }
.stat-block { background-color: var(--stat-bg); transition: background-color 0.3s; }

/* ===================================================================================
// ESTILOS PARA ESTADOS (BUFFS/DEBUFFS)
// =================================================================================== */
.status-card { border-left-width: 4px; }
.status-card[data-type="Buff"] { border-left-color: #22c55e; background-color: #f0fdf4; }
.status-card[data-type="Debuff"] { border-left-color: #ef4444; background-color: #fef2f2; }
.status-card[data-type="Neutral"] { border-left-color: #6b7280; background-color: #f9fafb; }
.theme-dark .status-card[data-type="Buff"] { background-color: #14532d; border-left-color: #22c55e;}
.theme-dark .status-card[data-type="Debuff"] { background-color: #7f1d1d; border-left-color: #ef4444;}
.theme-dark .status-card[data-type="Neutral"] { background-color: #374151; border-left-color: #6b7280;}
